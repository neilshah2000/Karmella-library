/*! For license information please see 5.cfa50697.chunk.js.LICENSE.txt */
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[5],{617:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},621:function(e,t,n){e.exports=n(378)},622:function(e,t,n){"use strict";function r(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var c=e.apply(t,n);function i(e){r(c,o,a,i,u,"next",e)}function u(e){r(c,o,a,i,u,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return o}))},623:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u}));var r=n(624),o=n.n(r);function a(e){var t="/catalog/api/books/";return t=function(e,t){var n="https://"+window.location.host+e;console.log(n);var r=new URL(n);return Object.keys(t).forEach((function(e){r.searchParams.append(e,t[e])})),r}(t,e),fetch(t).then((function(e){return e.json()}))}function c(e){return fetch("/catalog/api/books/"+e).then((function(e){return e.json()}))}function i(e){var t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":o.a.get("csrftoken")}};return fetch("/catalog/api/books/",t).then((function(e){return e.json()}))}function u(e){var t="/catalog/api/books/"+e.id+"/",n={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":o.a.get("csrftoken")}};return fetch(t,n).then((function(e){return e.json()}))}function s(){return fetch("/catalog/api/authors/").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.value=e.id,e.key=e.id,e.label=e.first_name+" "+e.last_name,e}))}))}},624:function(e,t,n){var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=a(),!!0){var c=window.Cookies,i=window.Cookies=a();i.noConflict=function(){return window.Cookies=c,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(s){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=t+"="+n+i}}function c(e,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],c=0;c<a.length;c++){var i=a[c].split("="),u=i.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(i[0]);if(u=(r.read||r)(u,s)||t(u),n)try{u=JSON.parse(u)}catch(f){}if(o[s]=u,e===s)break}catch(f){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},646:function(e,t,n){"use strict";n.r(t);var r=n(621),o=n.n(r),a=n(622),c=n(617),i=n(1),u=n.n(i),s=n(156),f=n(616),l=n(615),p=n(623),d=["title","zoteroId","authorNames"];t.default=function(){var e=Object(i.useState)({books:[]}),t=Object(c.a)(e,2),n=t[0],r=t[1],m=Object(i.useState)(1),h=Object(c.a)(m,2),b=h[0],v=h[1],y=Object(i.useState)(1),g=Object(c.a)(y,2),j=g[0],O=g[1],S=Object(i.useState)(""),E=Object(c.a)(S,2),k=E[0],w=E[1],C=Object(i.useState)(""),x=Object(c.a)(C,2),A=x[0],I=x[1],N=Object(i.useState)(0),P=Object(c.a)(N,2),T=P[0],U=P[1];function R(e){var t=e.author_names.join(", ");return e.authorNames=t,e}return Object(i.useEffect)((function(){!function(){var e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:k,limit:20,offset:20*b-20},e.next=3,Object(p.d)(t);case 3:n=e.sent,r({books:n.results.map(R)}),U(n.count),O(Math.ceil(n.count/20));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b,k]),u.a.createElement(u.a.Fragment,null,u.a.createElement(f.I,null,u.a.createElement(f.j,null,u.a.createElement(f.e,null,u.a.createElement(f.i,null,"Book Search"),u.a.createElement(f.f,null,u.a.createElement(f.A,{className:"mb-4"},u.a.createElement(f.C,null,u.a.createElement(f.d,{onClick:function(){w(A)},type:"button",color:"primary"},u.a.createElement(l.a,{name:"cil-magnifying-glass"})," Search")),u.a.createElement(f.z,{placeholder:"Title or abstract",onChange:function(e){I(e.target.value)}})),u.a.createElement(f.m,{items:n.books,fields:d,scopedSlots:{title:function(e){return u.a.createElement("td",null,u.a.createElement(s.b,{to:"/bookEdit/".concat(e.id)},e.title))}},hover:!0,striped:!0,bordered:!0,size:"sm",itemsPerPage:20}),u.a.createElement(f.G,{activePage:b,pages:j,onActivePageChange:v}),u.a.createElement("span",null,T+" results"))))))}}}]);
//# sourceMappingURL=5.cfa50697.chunk.js.map