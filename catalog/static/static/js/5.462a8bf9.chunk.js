/*! For license information please see 5.462a8bf9.chunk.js.LICENSE.txt */
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[5],{617:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},618:function(e,t,n){e.exports=n(378)},619:function(e,t,n){"use strict";function r(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(l){return void n(l)}i.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function i(e){r(c,a,o,i,u,"next",e)}function u(e){r(c,a,o,i,u,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return a}))},620:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return s}));var r=n(624),a=n.n(r);function o(e){var t="/catalog/api/books/";return t=function(e,t){var n=window.location.origin+e;console.log(n);var r=new URL(n);return Object.keys(t).forEach((function(e){r.searchParams.append(e,t[e])})),r}(t,e),fetch(t).then((function(e){return e.json()}))}function c(e){return fetch("/catalog/api/books/"+e).then((function(e){return e.json()}))}function i(e){var t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":a.a.get("csrftoken")}};return fetch("/catalog/api/books/",t).then((function(e){return e.json()}))}function u(e){var t="/catalog/api/books/"+e.id+"/",n={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":a.a.get("csrftoken")}};return fetch(t,n).then((function(e){return e.json()}))}function l(){return fetch("/catalog/api/authors/").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.value=e.id,e.key=e.id,e.label=e.first_name+" "+e.last_name,e}))}))}function s(){return fetch("/catalog/api/shelves/").then((function(e){return e.json()}))}},624:function(e,t,n){var r,a;!function(o){if(void 0===(a="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var c=window.Cookies,i=window.Cookies=o();i.noConflict=function(){return window.Cookies=c,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var u in o)o[u]&&(i+="; "+u,!0!==o[u]&&(i+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+i}}function c(e,n){if("undefined"!==typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],c=0;c<o.length;c++){var i=o[c].split("="),u=i.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(i[0]);if(u=(r.read||r)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(s){}if(a[l]=u,e===l)break}catch(s){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return c(e,!1)},a.getJSON=function(e){return c(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},648:function(e,t,n){"use strict";n.r(t);var r=n(618),a=n.n(r),o=n(619),c=n(617),i=n(1),u=n.n(i),l=n(156),s=n(616),f=n(615),m=n(620),p=["title","zoteroId","authorNames"];t.default=function(){var e=Object(i.useState)(1),t=Object(c.a)(e,2),n=t[0],r=t[1],d=Object(i.useState)(""),h=Object(c.a)(d,2),b=h[0],v=h[1],j=Object(i.useState)(""),g=Object(c.a)(j,2),y=g[0],E=g[1],O=Object(i.useState)([]),S=Object(c.a)(O,2),w=S[0],C=S[1],k=Object(i.useState)(null),x=Object(c.a)(k,2),I=x[0],A=x[1],N=Object(i.useState)(20),P=Object(c.a)(N,2),T=P[0],U=(P[1],function(e,t,n,r){var u=Object(i.useState)([]),l=Object(c.a)(u,2),s=l[0],f=l[1],p=Object(i.useState)(0),d=Object(c.a)(p,2),h=d[0],b=d[1],v=Object(i.useState)(1),j=Object(c.a)(v,2),g=j[0],y=j[1];function E(e){var t=e.author_names.join(", ");return e.authorNames=t,e}return Object(i.useEffect)((function(){!function(){var c=Object(o.a)(a.a.mark((function o(){var c,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={limit:t,offset:t*e-t},r?c.shelf=r:c.search=n,a.next=4,Object(m.d)(c);case 4:i=a.sent,f(i.results.map(E)),b(i.count),y(Math.ceil(i.count/t));case 8:case"end":return a.stop()}}),o)})));return function(){return c.apply(this,arguments)}}()()}),[e,t,n,r]),[s,h,g]}(n,T,b,I)),J=Object(c.a)(U,3),R=J[0],F=J[1],B=J[2];return Object(i.useEffect)((function(){!function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(m.e)().then((function(e){C(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(s.I,null,u.a.createElement(s.j,null,u.a.createElement(s.e,null,u.a.createElement(s.i,null,"Book Search"),u.a.createElement(s.f,null,u.a.createElement(s.I,null,u.a.createElement(s.j,{sm:"4"},u.a.createElement(s.A,{className:"mb-4"},u.a.createElement(s.C,null,u.a.createElement(s.d,{onClick:function(){A(!1),v(y)},type:"button",color:"primary"},u.a.createElement(f.a,{name:"cil-magnifying-glass"})," Search")),u.a.createElement(s.z,{placeholder:"Title or abstract",onChange:function(e){E(e.target.value)},value:y}))),u.a.createElement(s.j,{sm:"4"}),u.a.createElement(s.j,{sm:"4"},u.a.createElement(s.u,{row:!0},u.a.createElement(s.j,{md:"3"},u.a.createElement(s.E,{htmlFor:"shelfSelect",class:"pt-1"},"Shelf")),u.a.createElement(s.j,{xs:"12",md:"9"},u.a.createElement(s.J,{custom:!0,name:"shelfSelect",id:"shelfSelect",onChange:function(e){E(""),A(parseInt(e.target.value))},value:I},u.a.createElement("option",{disabled:!0,selected:!0,value:"false"}," -- select an option -- "),w.map((function(e){return u.a.createElement("option",{value:e.id},e.name)}))))))),u.a.createElement(s.m,{items:R,fields:p,scopedSlots:{title:function(e){return u.a.createElement("td",null,u.a.createElement(l.b,{to:"/bookEdit/".concat(e.id)},e.title))}},hover:!0,striped:!0,bordered:!0,size:"sm",itemsPerPage:T}),u.a.createElement(s.G,{activePage:n,pages:B,onActivePageChange:r}),u.a.createElement("span",null,F+" results"))))))}}}]);
//# sourceMappingURL=5.462a8bf9.chunk.js.map