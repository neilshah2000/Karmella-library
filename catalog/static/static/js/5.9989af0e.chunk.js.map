{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","services/book.service.js","../node_modules/js-cookie/src/js.cookie.js","views/books/BookSearch.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","getBooks","params","endpoint","url","window","location","host","console","log","builtUrl","URL","keys","forEach","searchParams","append","buildParams","fetch","response","json","getBook","bookId","createBook","book","request","method","body","JSON","stringify","headers","Cookies","get","updateBook","id","getAuthors","result","map","author","label","first_name","last_name","factory","define","OldCookies","api","noConflict","extend","attributes","decode","s","replace","decodeURIComponent","init","converter","set","document","path","defaults","expires","Date","toUTCString","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","jar","cookies","parts","join","charAt","read","parse","getJSON","remove","withConverter","fields","BookSearch","useState","books","data","setData","currentPage","setCurrentPage","pageCount","setPageCount","searchTerm","setSearchTerm","inputText","setInputText","resultCount","setResultCount","makePretty","authorNames","author_names","useEffect","a","search","limit","offset","results","count","Math","ceil","className","onClick","type","color","placeholder","onChange","target","items","scopedSlots","title","to","hover","striped","bordered","size","itemsPerPage","activePage","pages","onActivePageChange"],"mappings":"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","file":"static/js/5.9989af0e.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import Cookies from 'js-cookie';\n\nfunction getBooks(params) {\n    let endpoint = '/catalog/api/books/';\n    endpoint = buildParams(endpoint, params);\n    return fetch(endpoint)\n        .then(response => {return response.json()})\n}\n\nfunction getBook(bookId) {\n    let endpoint = '/catalog/api/books/' + bookId;\n    return fetch(endpoint)\n        .then(response => {return response.json()})\n}\n\nfunction createBook(book) {\n    let endpoint = '/catalog/api/books/';\n    let request = {\n        method: 'POST',\n        body: JSON.stringify(book),\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFTOKEN': Cookies.get('csrftoken')\n        }\n    }\n    return fetch(endpoint, request)\n        .then(response => {return response.json()})\n}\n\nfunction updateBook(book) {\n    let endpoint = '/catalog/api/books/' + book.id + '/';\n    let request = {\n        method: 'PUT',\n        body: JSON.stringify(book),\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFTOKEN': Cookies.get('csrftoken')\n        }\n    }\n    return fetch(endpoint, request)\n        .then(response => {return response.json()})\n}\n\nfunction getAuthors() {\n    let endpoint = '/catalog/api/authors/';\n    return fetch(endpoint)\n        .then(response => {return response.json()})\n        .then((result) => result.map((author) => { // add the fields needed for the select component\n            author.value = author.id;\n            author.key = author.id;\n            author.label = author.first_name + ' ' + author.last_name;\n            return author;\n        }));\n}\n\n\nfunction buildParams(endpoint, params) {\n    const url = 'http://' + window.location.host + endpoint;\n    console.log(url);\n    let builtUrl = new URL(url);\n    Object.keys(params).forEach((key) => {\n        builtUrl.searchParams.append(key, params[key])\n    });\n    return builtUrl;\n}\n\nexport {\n    getBooks,\n    createBook,\n    getAuthors,\n    getBook,\n    updateBook\n}","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport {\n    CCard,\n    CCardBody,\n    CCardHeader,\n    CCol,\n    CRow,\n    CDataTable,\n    CPagination,\n    CInput,\n    CInputGroup,\n    CInputGroupPrepend,\n    CButton\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { getBooks } from '../../services/book.service';\n\nconst fields = ['title','zoteroId', 'authorNames']\n\n\nconst BookSearch = () => {\n    const [data, setData] = useState({ books: [] });\n    const [currentPage, setCurrentPage] = useState(1);\n    const [pageCount, setPageCount] = useState(1);\n    const [searchTerm, setSearchTerm] = useState(''); // search term that goes to back end\n    const [inputText, setInputText] = useState(''); // text in the search input\n    const [resultCount, setResultCount] = useState(0);\n    const rowsPerPage = 20;\n\n    useEffect(() => {\n        (async function fetchData() {\n            const params = {\n                search: searchTerm,\n                limit: rowsPerPage,\n                offset: (rowsPerPage * currentPage) - rowsPerPage\n            }\n            const result = await getBooks(params)\n            setData({\n                books: result.results.map(makePretty)\n            });\n            setResultCount(result.count)\n            setPageCount(Math.ceil(result.count / rowsPerPage))\n        })();\n    }, [currentPage, searchTerm]);\n\n    function makePretty(book) {\n        const authorNames = book.author_names.join(', ');\n        book.authorNames = authorNames;\n        return book;\n    }\n\n    function searchButtonClicked() {\n        setSearchTerm(inputText);\n    }\n\n    function onSearchTextChange(e) {\n        setInputText(e.target.value);\n    }\n\n    return (\n        \n        <>\n        <CRow>\n            <CCol>\n            <CCard>\n                <CCardHeader>\n                    Book Search\n                </CCardHeader>\n                <CCardBody>\n                    <CInputGroup className={'mb-4'}>\n                        <CInputGroupPrepend>\n                            <CButton onClick={searchButtonClicked} type=\"button\" color=\"primary\"><CIcon name=\"cil-magnifying-glass\" /> Search</CButton>\n                        </CInputGroupPrepend>\n                        <CInput placeholder=\"Title or abstract\" onChange={onSearchTextChange}/>\n                    </CInputGroup>\n                    <CDataTable\n                        items={data.books}\n                        fields={fields}\n                        scopedSlots = {{title: (book) => (\n                            <td><Link to={`/bookEdit/${book.id}`}>{book.title}</Link></td>\n                        )}}\n                        hover\n                        striped\n                        bordered\n                        size=\"sm\"\n                        itemsPerPage={rowsPerPage} />\n                    <CPagination\n                        activePage={currentPage}\n                        pages={pageCount}\n                        onActivePageChange={setCurrentPage} />\n                    <span>{resultCount + ' results'}</span>\n                </CCardBody>\n            </CCard>\n            </CCol>\n        </CRow>\n        </>\n    )\n}\n\nexport default BookSearch\n"],"sourceRoot":""}