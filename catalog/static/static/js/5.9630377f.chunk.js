/*! For license information please see 5.9630377f.chunk.js.LICENSE.txt */
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[5],{617:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},618:function(e,t,n){e.exports=n(378)},619:function(e,t,n){"use strict";function r(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(l){return void n(l)}u.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function u(e){r(c,a,o,u,i,"next",e)}function i(e){r(c,a,o,u,i,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return a}))},620:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s}));var r=n(624),a=n.n(r);function o(e){var t="/catalog/api/books/";return t=function(e,t){var n=window.location.origin+e;console.log(n);var r=new URL(n);return Object.keys(t).forEach((function(e){r.searchParams.append(e,t[e])})),r}(t,e),fetch(t).then((function(e){return e.json()}))}function c(e){return fetch("/catalog/api/books/"+e).then((function(e){return e.json()}))}function u(e){var t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":a.a.get("csrftoken")}};return fetch("/catalog/api/books/",t).then((function(e){return e.json()}))}function i(e){var t="/catalog/api/books/"+e.id+"/",n={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFTOKEN":a.a.get("csrftoken")}};return fetch(t,n).then((function(e){return e.json()}))}function l(){return fetch("/catalog/api/authors/").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.value=e.id,e.key=e.id,e.label=e.first_name+" "+e.last_name,e}))}))}function s(){return fetch("/catalog/api/shelves/").then((function(e){return e.json()}))}},624:function(e,t,n){var r,a;!function(o){if(void 0===(a="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var c=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=c,u}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var i in o)o[i]&&(u+="; "+i,!0!==o[i]&&(u+="="+o[i].split(";")[0]));return document.cookie=t+"="+n+u}}function c(e,n){if("undefined"!==typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],c=0;c<o.length;c++){var u=o[c].split("="),i=u.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var l=t(u[0]);if(i=(r.read||r)(i,l)||t(i),n)try{i=JSON.parse(i)}catch(s){}if(a[l]=i,e===l)break}catch(s){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return c(e,!1)},a.getJSON=function(e){return c(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},648:function(e,t,n){"use strict";n.r(t);var r=n(618),a=n.n(r),o=n(619),c=n(617),u=n(1),i=n.n(u),l=n(616),s=n(615),f=n(620);t.default=function(){var e=Object(u.useState)(1),t=Object(c.a)(e,2),n=t[0],r=t[1],m=Object(u.useState)(""),p=Object(c.a)(m,2),d=p[0],h=p[1],v=Object(u.useState)(""),b=Object(c.a)(v,2),j=b[0],g=b[1],y=Object(u.useState)([]),E=Object(c.a)(y,2),O=E[0],S=E[1],w=Object(u.useState)(null),C=Object(c.a)(w,2),k=C[0],x=C[1],A=Object(u.useState)(20),I=Object(c.a)(A,2),N=I[0],T=(I[1],function(e,t,n,r){var i=Object(u.useState)([]),l=Object(c.a)(i,2),s=l[0],m=l[1],p=Object(u.useState)(0),d=Object(c.a)(p,2),h=d[0],v=d[1],b=Object(u.useState)(1),j=Object(c.a)(b,2),g=j[0],y=j[1];function E(e){var t=e.author_names.join(", ");return e.authorNames=t,e}return Object(u.useEffect)((function(){!function(){var c=Object(o.a)(a.a.mark((function o(){var c,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={limit:t,offset:t*e-t},r?c.shelf=r:c.search=n,a.next=4,Object(f.d)(c);case 4:u=a.sent,m(u.results.map(E)),v(u.count),y(Math.ceil(u.count/t));case 8:case"end":return a.stop()}}),o)})));return function(){return c.apply(this,arguments)}}()()}),[e,t,n,r]),[s,h,g]}(n,N,d,k)),U=Object(c.a)(T,3),R=U[0],F=U[1],J=U[2];return Object(u.useEffect)((function(){!function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(f.e)().then((function(e){S(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.H,null,i.a.createElement(l.j,null,i.a.createElement(l.e,null,i.a.createElement(l.i,null,"Book Search"),i.a.createElement(l.f,null,i.a.createElement(l.H,null,i.a.createElement(l.j,{sm:"4"},i.a.createElement(l.z,{className:"mb-4"},i.a.createElement(l.B,null,i.a.createElement(l.d,{onClick:function(){x(!1),h(j)},type:"button",color:"primary"},i.a.createElement(s.a,{name:"cil-magnifying-glass"})," Search")),i.a.createElement(l.y,{placeholder:"Title or abstract",onChange:function(e){g(e.target.value)},value:j}))),i.a.createElement(l.j,{sm:"4"}),i.a.createElement(l.j,{sm:"4"},i.a.createElement(l.t,{row:!0},i.a.createElement(l.j,{md:"3"},i.a.createElement(l.D,{htmlFor:"shelfSelect",class:"pt-1"},"Shelf")),i.a.createElement(l.j,{xs:"12",md:"9"},i.a.createElement(l.I,{custom:!0,name:"shelfSelect",id:"shelfSelect",onChange:function(e){g(""),x(parseInt(e.target.value))},value:k},i.a.createElement("option",{disabled:!0,selected:!0,value:"false"}," -- select an option -- "),O.map((function(e){return i.a.createElement("option",{value:e.id},e.name)}))))))),i.a.createElement(l.H,null,R.map((function(e){return i.a.createElement(l.j,{xs:"12",sm:"6",md:"4"},i.a.createElement(l.e,{accentColor:"primary"},i.a.createElement(l.i,null,i.a.createElement("h5",null,e.title)),i.a.createElement(l.f,null,e.author_names),i.a.createElement(l.g,null,"Copies: ",e.copies.length)))}))),i.a.createElement(l.F,{activePage:n,pages:J,onActivePageChange:r}),i.a.createElement("span",null,F+" results"))))))}}}]);
//# sourceMappingURL=5.9630377f.chunk.js.map